## Архітектура комп'ютерів 2. Процесори
### Лабораторна робота №4
**«Розроблення модулів Linux Kernel»**

**Виконав:**  
студент групи ІО-23  
**Прохоренко А.Д.**  

---

Для виконання завдання було взято приклад модуля ядра з папки `test2`, що входить до складу наданого архіву. Вихідний код модуля `hello.c` містив базову функціональність — виведення повідомлення "Hello, world!" при завантаженні модуля та виконання основних дій під час його видалення.

Було реалізовано наступні модифікації:

- **Додано параметр `count` типу `uint`**:
  - Параметр дозволяє налаштовувати кількість виведення повідомлень "Hello, world!".
  - Інтегровано у функцію ініціалізації модуля (`hello_init`) через механізм `module_param`, що дозволяє задавати його значення під час завантаження модуля через команду `insmod`.

- **Логіка перевірки параметра**:
  - Друк попередження при значенні `count = 0` або в діапазоні від `5` до `10`.
  - Відмова у завантаженні модуля з поверненням коду `-EINVAL`, якщо `count` перевищує значення `10`.

- **Додано структуру списку для збереження часових міток**:
  - Структура реалізована за допомогою стандартного інструменту ядра `struct list_head`.
  - Часові мітки зберігаються у форматі наносекунд через функцію `ktime_get()`.

- **Очищення списку та логування**:
  - У функцію `hello_exit` інтегровано очищення списку та друк міток часу в системний журнал. Це забезпечує логування часу кожного повідомлення, що друкувалося при завантаженні модуля.

---

## Тестування
![](/img/1.png?raw=true)

![](/img/2.png?raw=true)

![](/img/3.png?raw=true)

![](/img/4.png?raw=true)

![](/img/5.png?raw=true)
